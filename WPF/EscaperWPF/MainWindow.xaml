<Window x:Class="EscaperWPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Escaper" Height="600" Width="800">
    <!-- inputs -->
    <Window.InputBindings>
        <KeyBinding Command="{Binding MovePlayerCommand}" CommandParameter="Up" Key="Up" />
        <KeyBinding Command="{Binding MovePlayerCommand}" CommandParameter="Down" Key="Down" />
        <KeyBinding Command="{Binding MovePlayerCommand}" CommandParameter="Left" Key="Left" />
        <KeyBinding Command="{Binding MovePlayerCommand}" CommandParameter="Right" Key="Right" />

        <KeyBinding Command="{Binding NewGameCommand}" Key="Space" />
    </Window.InputBindings>
    <DockPanel LastChildFill="True">

        <!-- top controls -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="5" x:Name="TopPanel">
            <Button Content="New Game" Command="{Binding NewGameCommand}" Margin="2"/>
            <ComboBox Width="60" Margin="2"
                      SelectedItem="{Binding SelectedMapSize, Mode=TwoWay}"
                      ItemsSource="{Binding MapSizes}"/>
            <Button Content="Pause" Command="{Binding PauseCommand}" Margin="2"/>
            <Button Content="Save" Command="{Binding SaveCommand}" Margin="2"/>
            <Button Content="Load" Command="{Binding LoadCommand}" Margin="2"/>
            <TextBlock Text="{Binding Status}" Margin="10,0"/>
            <TextBlock Text="{Binding Time}" Margin="10,0"/>
        </StackPanel>

        <!-- game area -->
        <Grid Background="LightGray" x:Name="GameGrid">
            <Canvas x:Name="GameCanvas" Background="White">
                <ItemsControl ItemsSource="{Binding BoardElements}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <Canvas />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </Canvas>
        </Grid>
    </DockPanel>
</Window>
